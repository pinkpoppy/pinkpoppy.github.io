---
layout: post
title: 初识CommonJS 规范
category: front-end developement
tags: CommonJS,模块化开发
---

现状:
网站已经从网页模式进化到了 Webapp模式.通常 webapp会是一个单页面应用.每一个视图通过异步方式加载.导致了页面初始化和使用过程中会加载越来越多的 js 代码.这个前端开发的流程和资源组织带来了巨大的挑战.
前端产品的交付是基于浏览器的,这些资源是通过增量加载的方式运送到浏览器端的.
如何在开发环境组织好这些碎片化的代码和资源,并且保证他们在浏览器快速,优雅的加载和更新,就需要一个模块化系统,这个理想中的模块化系统是前端工程师多年来一直探索的难题.

模块系统的演进
模块系统主要解决模块的定义,依赖和到处,先来看看已经存在的模块系统
<script>标签
<script src="module1.js">
<script src="module2.js">
这是最原始的 js 文件加载方式,如果把每一个文件看做是一个模块,那么他们的接口通常是暴露在全局作用域下,也就是定义在 window 对象中,不同模块的接口都是一个作用域中,一些复杂的框架,会使用命名空间的概念来组织这些模块的接口
典型的例子如 YUI
显而易见的弊端:??
CommonJS
服务器端的 javascript => Node.js 遵循 CommonJS 规范,该规范的核心思想是允许模块通过 require 方法来同步加载所要依赖的其他模块,然后通过 exports 或 module.exports 来导出需要暴露的接口
